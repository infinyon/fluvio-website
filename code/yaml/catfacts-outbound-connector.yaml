# connector.yaml
name: cat-facts-outbound
type: sql-sink
version: latest
topic: cat-facts

parameters:
  hub_url: https://hub-dev.infinyon.cloud
  database_url: postgres://database:password@heffalump.db.elephantsql.com/database
transforms:
  - uses: infinyon/json-sql
    invoke: insert
    with:
      table: "topic_message"
      map-columns:
        "message":
          json-key: "fact"
          value:
            type: "text"
            default: "A cat can sometimes purr"
            required: true
        "length":
          json-key: "length"
          value:
            type: "int"
            default: "0"
            required: true
