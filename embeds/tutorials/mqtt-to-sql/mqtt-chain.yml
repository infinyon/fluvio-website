# mqtt.yml
version: 0.5.1
name: fluvio-mqtt-connector
type: mqtt-source
topic: mqtt-topic
direction: source
create-topic: true
parameters:
  mqtt_topic: 'ag-mqtt-topic'
  payload_output_type: json
secrets:
  MQTT_URL: mqtt://test.mosquitto.org/
transforms:
  - uses: infinyon/jolt@0.1.0
    with:
      spec:
        - operation: shift
          spec:
            payload:
              device: 'device'
        - operation: default
          spec:
            device:
              type: 'mobile'
