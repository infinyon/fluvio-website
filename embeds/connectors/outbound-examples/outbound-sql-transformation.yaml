# connector-config.yaml
meta:
  version: latest
  name: json-sql-connector
  type: sql-sink
  topic: sql-topic
  create-topic: true
sql:
  url: "postgresql://USERNAME:PASSWORD@HOST:PORT/DB_NAME"
transforms:
  - uses: infinyon/json-sql
    with:
      table: "topic_message"
      map-columns:
        "device_id":
          json-key: "device.device_id"
          value:
            type: "int"
            default: "0"
            required: true
        "record":
          json-key: "$"
          value:
            type: "jsonb"
            required: true
